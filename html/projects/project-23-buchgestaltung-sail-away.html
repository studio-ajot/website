<!DOCTYPE html>
<html lang="de" class="active">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="../../css/libraries/bootstrap.min.css" rel="stylesheet" />
    <link
      rel="stylesheet"
      href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"
      integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="../../css/libraries/flickity.min.css" />
    <link
      rel="icon"
      href="../../assets/icons/favicon_studio-ajot.png"
      type="image/gif"
      sizes="16x16"
    />
    <link rel="stylesheet" type="text/css" href="../../css/main.css" />
    <link rel="stylesheet" type="text/css" href="../../css/pages/project-subpage.css" />
    <title>Studio Ajot - Galerie</title>
    <meta
      name="description"
      content="Graphic Design Studio &middot; Johanna Klüsener + Anastasia Marx &middot; Hamburg + Berlin"
    />
    <style>
      html.active {
        cursor: auto;
      }

      html.wf-loading * {
        opacity: 0;
      }
    </style>
  </head>

  <body>
    <!-- Navigation -->
    <nav class="nav_section bg-white" id="index-nav">
      <div class="nav_row">
        <a href="../../archive/index.html" class="logo" id="website_title">Studio Ajot</a>
        <!-- hamburger menu button -->
        <button type="button" class="burger_menu">
          <span class="icon" id="icon"></span>
          <span class="icon2" id="icon2"></span>
          <span class="icon3" id="icon3"></span>
        </button>
      </div>
      <!-- menu points -->
      <div class="menu_points">
        <!-- <span id="subtitle" class="accent_border accent_text">
          Visuelle Kommunikation
        </span> -->
        <ul>
          <li>
            <a
              class="nav_menu_button nav_menu_button--big bg-black"
              href="../../archive/index.html"
              ><span class="index-link">Visuelle Kommunikation</span></a
            >
          </li>
          <li>
            <a class="nav_menu_button bg-black" href="../../archive/galerie.html"
              ><span class="index-link">Galerie</span></a
            >
          </li>
          <li>
            <a class="nav_menu_button bg-black" href="../../archive/ueber-uns.html">
              <span class="index-link">Über uns</span>
            </a>
          </li>
          <li>
            <a class="nav_menu_button bg-black" href="../../archive/kompetenzen.html"
              ><span class="index-link">Kompetenzen</span></a
            >
          </li>
        </ul>
      </div>
    </nav>
    <!-- Main Content -->
    <main class="main-content project-subpage-main">
      <!-- web -->
      <div class="subpage-main-container-for-web">
        <div
          class="subpage-main-container-for-web__subpage-image-container"
        ></div>
        <div class="subpage-main-container-for-web__text-container border-left">
          <div class="subpage-main-container-for-web__text-container__nav">
            <a
              class="prev-project-link subpage-main-container-for-web__text-container__nav__link"
              href=""
            >
              <i class="fas fa-arrow-left arrow-left"></i>
              <span>ZURÜCK</span>
            </a>
            <a
              href=""
              class="next-project-link subpage-main-container-for-web__text-container__nav__link"
            >
              <span>VOR</span>
              <i class="fas fa-arrow-right arrow-right"></i>
            </a>
          </div>
          <div
            class="subpage-main-container-for-web__text-container__text-box"
          ></div>
          <div class="subpage-main-container-for-web__text-container__nav">
            <a
              class="prev-project-link subpage-main-container-for-web__text-container__nav__link"
              href=""
            >
              <i class="fas fa-arrow-left arrow-left"></i>
              <span>ZURÜCK</span>
            </a>
            <a
              href=""
              class="next-project-link subpage-main-container-for-web__text-container__nav__link"
            >
              <span>VOR</span>
              <i class="fas fa-arrow-right arrow-right"></i>
            </a>
          </div>
        </div>
      </div>
      <!-- mobile-->
      <div class="subpage-main-container-for-mobile">
        <div class="subpage-main-container-for-mobile__nav">
          <a
            class="prev-project-link subpage-main-container-for-web__text-container__nav__link"
            href=""
          >
            <i class="fas fa-arrow-left arrow-left"></i>
            <span>ZURÜCK</span>
          </a>
          <a
            href=""
            class="next-project-link subpage-main-container-for-web__text-container__nav__link"
          >
            <span>VOR</span>
            <i class="fas fa-arrow-right arrow-right"></i>
          </a>
        </div>
        <div class="subpage-main-container-for-mobile__text-box">
          <span
            class="subpage-main-container-for-mobile__text-box__text"
          ></span>
          <div class="expand-button">+</div>
        </div>
        <div class="subpage-main-container-for-mobile__nav">
          <a
            class="prev-project-link subpage-main-container-for-web__text-container__nav__link"
            href=""
          >
            <i class="fas fa-arrow-left arrow-left"></i>
            <span>ZURÜCK</span>
          </a>
          <a
            href=""
            class="next-project-link subpage-main-container-for-web__text-container__nav__link"
          >
            <span>VOR</span>
            <i class="fas fa-arrow-right arrow-right"></i>
          </a>
        </div>
      </div>
    </main>
    <!-- Footer -->
    <footer class="site-padding-x site-padding-y bottom white">
      <div class="row g-0">
        <div class="col-3">
          Hamburg & Berlin<br />
          <a href="../../archive/impressum-datenschutz.html"><span>Impressum</span></a>
        </div>
        <div class="col-9 text-end">
          <a
            href="mailto:hello@studio-ajot.de"
            target="_blank"
            class="footer-link"
            ><i class="fas fa-arrow-right text-decoration-none"></i
            ><span>Mail</span></a
          >
          <a href="https://www.instagram.com/studio.ajot" target="_blank"
            ><br /><i class="fas fa-arrow-right text-decoration-none"></i
            ><span>Instagram</span></a
          >
        </div>
      </div>
    </footer>

    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <script src="../../js/libraries/bootstrap.bundle.min.js"></script>
    <script src="../../js/main-functions.js"></script>
    <script src="../../js/components/nav/setColorInMobileMenu.js"></script>
    <script src="../../content-management/gallery-project-information.js"></script>

    <script>
      $(document).ready(function () {
        const projectName = window.location.pathname
          .replace(/.*studio-ajot.de\//, "")
          .replace(/.*studio-ajot\//, "")
          .replace("/", "")
          .replace(".html", "");

        // get project information
        const projectOfSubpage = galleryProjectInformation.find(
          (project) => project.id === projectName
        );

        // set variables for web
        let mediaPrefix = `assets/gallery/web/${projectName}/`;

        let imgClass =
          "subpage-main-container-for-web__subpage-image-container__img";
        let vidClass =
          "subpage-main-container-for-web__subpage-image-container__vid";

        if (
          /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(
            navigator.userAgent
          )
        ) {
          // set variables for mobile
          $("body").addClass("mobile-detect");
          mediaPrefix = `assets/gallery/mobile/${projectName}/`;
          imgClass = "subpage-main-container-for-mobile__img";
          vidClass = "subpage-main-container-for-mobile__vid";

          // switch layout in  mobile
          $(".subpage-main-container-for-web").css("display", "none");
          $(".subpage-main-container-for-mobile").css("display", "block");
        } else {
          $("body").removeClass("mobile-detect");
          $(".subpage-main-container-for-web").css("display", "flex");
          $("html").css("overflow-y", "hidden");
        }

        // --------------- project subpage setup ---------------
        // fill subpage with img & vid of project
        projectOfSubpage.mediaTypes.forEach((mediaType, index) => {
          let $content;
          if (mediaType === "img") {
            $content = $(`
              <img class=${imgClass} src=${
              mediaPrefix + projectName + `-${index + 1}.jpg`
            } />
            </a>
            `);
          } else if (mediaType === "vid") {
            $content = $(`
              <video class=${vidClass} autoplay loop muted playsinline id=${projectName}>
                <source src="${
                  mediaPrefix + projectName + `-${index + 1}.webm`
                }" type="video/webm" />
                <source src="${
                  mediaPrefix + projectName + `-${index + 1}.mp4`
                }" type="video/mp4"
                poster=${
                  mediaPrefix +
                  "poster/" +
                  projectName +
                  `-${index + 1}` +
                  ".jpg"
                }/>              
              </video>
            `);
          }
          // place in DOM
          if ($("body").hasClass("mobile-detect")) {
            if (index === 0) {
              $content.insertAfter(
                ".subpage-main-container-for-mobile__nav:first"
              );
            } else {
              $content.insertBefore(
                ".subpage-main-container-for-mobile__nav:last"
              );
            }
          } else {
            $(
              ".subpage-main-container-for-web__subpage-image-container"
            ).append($content);
          }
        });

        // fill subpage with project text
        if ($("body").hasClass("mobile-detect")) {
          $(".subpage-main-container-for-mobile__text-box__text").html(
            projectOfSubpage.projectDescription
          );
        } else {
          $(".subpage-main-container-for-web__text-container__text-box").html(
            projectOfSubpage.longTextDescription
          );
        }

        $(".expand-button").on("click", function (e) {
          e.preventDefault();

          $(".subpage-main-container-for-mobile__text-box").toggleClass(
            "is-expanded"
          );

          if (
            $(".subpage-main-container-for-mobile__text-box").hasClass(
              "is-expanded"
            )
          ) {
            $(".subpage-main-container-for-mobile__text-box__text").html(
              projectOfSubpage.longTextDescription
            );
            $(".expand-button").html("-");
          } else {
            $(".subpage-main-container-for-mobile__text-box__text").html(
              projectOfSubpage.projectDescription
            );
            $(".expand-button").html("+");
          }
        });
        // set accent color
        $(
          `.subpage-main-container-for-mobile__text-box,
          .subpage-main-container-for-mobile__nav,
          .subpage-main-container-for-web__text-container__text-box,
          .subpage-main-container-for-web__text-container__nav`
        ).css("background-color", projectOfSubpage.accentColor);
        $(".expand-button").css({
          color: projectOfSubpage.accentColor,
        });

        // set links for navigation
        const indexOfSubpageProject = galleryProjectInformation.indexOf(
          projectOfSubpage
        );
        const nextProjectIndex =
          indexOfSubpageProject === galleryProjectInformation.length - 1
            ? 0
            : indexOfSubpageProject + 1;
        const prevProjectIndex =
          indexOfSubpageProject === 0
            ? galleryProjectInformation.length - 1
            : indexOfSubpageProject - 1;
        const nextProjectLink =
          galleryProjectInformation[nextProjectIndex].id + ".html";
        const prevProjectLink =
          galleryProjectInformation[prevProjectIndex].id + ".html";
        $(".next-project-link").attr("href", nextProjectLink);
        $(".prev-project-link").attr("href", prevProjectLink);
      });

      $(window).on("resize", function () {
        if (menuIsOpen()) {
          closeMenu();
          setColorInClosedMenu("black");
        }
      });

      $(".burger_menu").click(function () {
        toggleMenu();
        if (menuIsOpen()) {
          setColorInOpenMenu("black");
        } else {
          setColorInClosedMenu("black");
        }
      });

      $(".nav_section ul li a").click(function () {
        setColorInOpenMenu("black");
        setColorInClosedMenu("black");
        if (
          $(".burger_menu").hasClass("open") ||
          $(".nav_section .menu_points").hasClass("active")
        ) {
          $(".burger_menu").removeClass("open");
          $(".nav_section .menu_points").removeClass("active");
        }
      });
    </script>
  </body>
</html>
